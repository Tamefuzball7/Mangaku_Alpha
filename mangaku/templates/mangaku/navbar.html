{% load static %}




<div class="navbar">
    <div class="navbar_menuicon" id="navicon">
        <i class="fa fa-navicon"></i>
    </div>
    <div class="navbar_logo">
        <a href="{% url 'home' %}"><img src="{% static 'img/logo.png' %}" alt="" /></a>
    </div>
    <div class="navbar_page">
        <span>>pixmingle
        </span>
    </div>
    <div class="navbar_search">
        <form method="GET" action="{% url 'search' %}">
            <input type="text" name="q" placeholder="Buscar" />
            <button type="submit"><i class="fa fa-search"></i></button>
          </form>          
    </div>
    <div class="navbar_icons">
        <ul>
            <li id="friendsmodal"><i class="fa fa-user-o"></i><span id="notification">0</span></li>
            <li id="messagesmodal"><i class="fa fa-globe"></i><span id="notification">0</span></li>
        </ul>
    </div>
    <div class="navbar_user" id="profilemodal" style="cursor:pointer">
        {% if request.user.profile.image %}
            <img src="{{ request.user.profile.image.url }}" alt="" />
        {% else %}
            <!-- Coloca aquí una imagen predeterminada o un ícono de usuario sin imagen -->
            <img src="/ruta/a/imagen_predeterminada.jpg" alt="" />
        {% endif %}
        <span id="navbar_user_top">{{ request.user.first_name }} {{ request.user.last_name }}<br><p>@{{ request.user }}</p></span><i class="fa fa-angle-down"></i>
    </div>
</div>
   <!-- Modal Messages -->
   <div class="modal modal-comments">
    <div class="modal-icon-select"><i class="fa fa-sort-asc" aria-hidden="true"></i></div>
    <div class="modal-title">
        <span>CHAT / MESSAGES</span>
         <a href="messages.html"><i class="fa fa-ellipsis-h"></i></a>
    </div>
    <div class="modal-content">
        <ul>
            <li>
                <a href="#">
                    <img src="#" alt="" />
                    <span><b>Diana Jameson</b><br>Hi James! It’s Diana, I just wanted to let you know that we have to reschedule...<p>4 hours ago</p></span>
                </a>
            </li>
        </ul>
    </div>
</div>
<!-- Modal Friends -->
<div class="modal modal-friends">
    <div class="modal-icon-select"><i class="fa fa-sort-asc" aria-hidden="true"></i></div>
    <div class="modal-title">
        <span>FRIEND REQUESTS</span>
         <a href="friends.html"><i class="fa fa-ellipsis-h"></i></a>
    </div>
    <div class="modal-content">
        <ul>
            <li>
                <a href="#">
                    <img src="#" alt="" />
                    <span><b>Tony Stevens</b><br> Friends in Common</span>
                    <button class="modal-content-accept">Accept</button><button class="modal-content-decline">Decline</button>
                </a>
            </li>
        </ul>
    </div>
</div>
<!-- Modal Profile -->
<div class="modal modal-profile">
    <div class="modal-icon-select"><i class="fa fa-sort-asc" aria-hidden="true"></i></div>
    <div class="modal-title">
        <span>Tu cuenta</span>
         <a href="settings.html"><i class="fa fa-cogs"></i></a>
    </div>
    <div class="modal-content">
        <ul>
            <li>
                <a href="{% url 'editar' %}">
                    <i class="fa fa-tasks" aria-hidden="true"></i>
                    <span><b>Editar perfil</b><br>Configura tu perfil</span>
                </a>
            </li>
            <li>
                <a href="{% url 'logout' %}">
                    <i class="fa fa-power-off" aria-hidden="true"></i>
                    <span><b>Cerrar sesion</b><br>Ceirrar Tu sesion</span>
                </a>
            </li>
        </ul>
    </div>
</div>

<!-- NavMobile -->
<div class="mobilemenu">
    
    <div class="mobilemenu_profile">
        <img id="mobilemenu_portada" src="{{ request.user.profile.fondo.url }}" />
        <div class="mobilemenu_profile">
            <img id="mobilemenu_profile_pic" src="{{ request.user.profile.image.url }}" /><br>
            <span>{{ request.user.first_name }} {{ request.user.last_name }}<br>
                <b>@{{ request.user }}</b>
                <p><b>{{ user.profile.followers.count }}</b> Seguidores | <b>{{ user.profile.following.count }}</b> Seguidos</p></span>
        </div>
        <div class="mobilemenu_menu">
            <ul>
                <li><a href="{% url 'home' %}" ><i class="fa fa-globe"></i>Inicio</a></li>
                <li><a href="{% url 'profile' user %}"><i class="fa fa-user"></i>Perfil</a></li>
                <li><a href="#"><i class="fa fa-users"></i>Grupos</a></li>
                <li><a href="{% url 'chat' user %}"><i class="fa fa-comments-o"></i>Mensajes</a></li>
                <li><a href="{% url 'editar' %}"><i class="fa fa-tasks"></i>Editar perfil</a></li>
            </ul>
                <hr>
            <ul>
                <li><a href="#">Terminoss & Condicions</a></li>
                <li><a href="#">Contactanos</a></li>
                <li><a href="{% url 'logout' %}">Cerrar sesion</a></li>
            </ul>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
// Modals
$(document).ready(function(){


    $("#messagesmodal").hover(function(){
        $(".modal-comments").toggle();
    });
    $(".modal-comments").hover(function(){
        $(".modal-comments").toggle();
    });



    $("#friendsmodal").hover(function(){
        $(".modal-friends").toggle();
    });
    $(".modal-friends").hover(function(){
        $(".modal-friends").toggle();
    });


    $("#profilemodal").hover(function(){
        $(".modal-profile").toggle();
    });
    $(".modal-profile").hover(function(){
        $(".modal-profile").toggle();
    });


    $("#navicon").click(function(){
        $(".mobilemenu").fadeIn();
    });
    $(".all").click(function(){
        $(".mobilemenu").fadeOut();
    });
});
</script>
<script>
    window.onscroll = function() {scrollFunction()};

    function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("myBtn").style.display = "block";
        } else {
            document.getElementById("myBtn").style.display = "none";
        }
    }

    function topFunction() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
    }
</script>

<script>
    // On page load or when changing themes, best to add inline in `head` to avoid FOUC
    if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
    } else {
        document.documentElement.classList.remove('dark')
    }
</script>